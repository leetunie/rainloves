const _0xb2e50c=_0x317d;(function(_0x24d0e9,_0x3b4f87){const _0x1d2d99=_0x317d,_0xcf8f99=_0x24d0e9();while(!![]){try{const _0x4b2d49=parseInt(_0x1d2d99(0x187))/0x1+parseInt(_0x1d2d99(0x1a6))/0x2*(-parseInt(_0x1d2d99(0x18b))/0x3)+-parseInt(_0x1d2d99(0x1ba))/0x4+-parseInt(_0x1d2d99(0x191))/0x5*(-parseInt(_0x1d2d99(0x1a8))/0x6)+parseInt(_0x1d2d99(0x179))/0x7*(-parseInt(_0x1d2d99(0x1a4))/0x8)+parseInt(_0x1d2d99(0x19a))/0x9*(parseInt(_0x1d2d99(0x1ab))/0xa)+-parseInt(_0x1d2d99(0x194))/0xb*(-parseInt(_0x1d2d99(0x197))/0xc);if(_0x4b2d49===_0x3b4f87)break;else _0xcf8f99['push'](_0xcf8f99['shift']());}catch(_0x5716b9){_0xcf8f99['push'](_0xcf8f99['shift']());}}}(_0x3711,0xbe9e8));const canvas=document[_0xb2e50c(0x1b8)](_0xb2e50c(0x188)),ctx=canvas[_0xb2e50c(0x18e)]('2d');canvas['width']=window[_0xb2e50c(0x1bb)],canvas['height']=window[_0xb2e50c(0x19d)];const isMobile=window[_0xb2e50c(0x1bb)]<0x300,gap=isMobile?0x2:0x5,shapeCanvas=document[_0xb2e50c(0x17f)](_0xb2e50c(0x188));shapeCanvas[_0xb2e50c(0x1bc)]=canvas['width'],shapeCanvas[_0xb2e50c(0x195)]=canvas[_0xb2e50c(0x195)];const shapeCtx=shapeCanvas['getContext']('2d');function _0x317d(_0x332480,_0x1f26a1){const _0x3711ee=_0x3711();return _0x317d=function(_0x317d8d,_0x36e05a){_0x317d8d=_0x317d8d-0x178;let _0x3db36e=_0x3711ee[_0x317d8d];return _0x3db36e;},_0x317d(_0x332480,_0x1f26a1);}function base64DecodeUnicode(_0x151b11){const _0xc6361c=_0xb2e50c;return decodeURIComponent(atob(_0x151b11)[_0xc6361c(0x1a3)]('')[_0xc6361c(0x1ae)](function(_0x4ccc74){const _0xe4a059=_0xc6361c;return'%'+('00'+_0x4ccc74[_0xe4a059(0x1a0)](0x0)['toString'](0x10))[_0xe4a059(0x186)](-0x2);})['join'](''));}const urlParams=new URLSearchParams(window[_0xb2e50c(0x189)][_0xb2e50c(0x1b0)]);function _0x3711(){const _0x5de4b0=['trim','innerHeight','paused','error','charCodeAt','center','fill','split','10669592UzsAPP','random','34vJDxRH','has','12FrnvWB','alpha','bold\x20','120GfuLDz','none','warn','map','Không\x20thể\x20phát\x20nhạc\x20do\x20trình\x20duyệt\x20hạn\x20chế.','search','click','now','addEventListener','px\x20Segoe\x20UI','#fff','push','font','getElementById','size','4946028QqXtyN','innerWidth','width','src','data','Chúc\x20mừng|sinh\x20nhật|bạn\x20yêu|❤','Trình\x20duyệt\x20chưa\x20cho\x20phép\x20phát\x20nhạc\x20tự\x20động','speed','play','white','beginPath','parse','msg','7mmhxcT','moveTo','block','bezierCurveTo','bgm','fillText','createElement','measureText','splice','href','catch','max','gif','slice','349460EghaVs','canvas','location','pinkboard','112323zzMoqR','display','pink','getContext','replace','filter','3326660IBQiVl','clearRect','progress','3223ofXUDh','height','style','59748pWrQku','forEach','length','636381PICaUF','fillStyle'];_0x3711=function(){return _0x5de4b0;};return _0x3711();}let inputText=_0xb2e50c(0x1bf),gif='',music='';if(urlParams[_0xb2e50c(0x1a7)]('id'))try{const t=base64DecodeUnicode(urlParams['get']('id')),e=JSON[_0xb2e50c(0x1c5)](t);inputText=e[_0xb2e50c(0x178)]||inputText,gif=e[_0xb2e50c(0x185)]||'',music=e['music']||'';}catch(_0xa7eeb7){console[_0xb2e50c(0x19f)]('Không\x20đọc\x20được\x20dữ\x20liệu\x20từ\x20link:',_0xa7eeb7);}const sticker=document[_0xb2e50c(0x1b8)]('sticker');gif&&''!==gif[_0xb2e50c(0x19c)]()&&(sticker[_0xb2e50c(0x1bd)]=decodeURIComponent(gif));const bgm=document[_0xb2e50c(0x1b8)](_0xb2e50c(0x17d));music&&''!==music[_0xb2e50c(0x19c)]()&&(bgm['src']=decodeURIComponent(music),bgm[_0xb2e50c(0x1c2)]()[_0xb2e50c(0x183)](()=>{const _0x99fb28=_0xb2e50c;console[_0x99fb28(0x1ad)](_0x99fb28(0x1c0));})),document[_0xb2e50c(0x1b3)](_0xb2e50c(0x1b1),()=>{const _0x3a888b=_0xb2e50c;bgm[_0x3a888b(0x19e)]&&music&&''!==music['trim']()&&bgm[_0x3a888b(0x1c2)]()['catch'](()=>{const _0x1c9204=_0x3a888b;console['warn'](_0x1c9204(0x1af));});});const texts=inputText[_0xb2e50c(0x1a3)]('|')[_0xb2e50c(0x190)](_0x32230f=>''!==_0x32230f[_0xb2e50c(0x19c)]());let currentIndex=0x0,particles=[],morphDelay=0x258,lastMorphTime=Date[_0xb2e50c(0x1b2)](),stopAnimation=!0x1;function getFittedFont(_0x2fc7c3){const _0x2730d1=_0xb2e50c;let _0x5cd4de=0x12c;shapeCtx[_0x2730d1(0x1b7)]=_0x2730d1(0x1aa)+_0x5cd4de+'px\x20Segoe\x20UI';let _0x155ab7=shapeCtx[_0x2730d1(0x180)](_0x2fc7c3[_0x2730d1(0x18f)]('\x0a',''))['width'];for(;(_0x155ab7>0.9*shapeCanvas['width']||_0x5cd4de>0.8*shapeCanvas[_0x2730d1(0x195)])&&_0x5cd4de>0xa;)_0x5cd4de-=0x5,shapeCtx[_0x2730d1(0x1b7)]=_0x2730d1(0x1aa)+_0x5cd4de+_0x2730d1(0x1b4),_0x155ab7=shapeCtx[_0x2730d1(0x180)](_0x2fc7c3[_0x2730d1(0x18f)]('\x0a',''))[_0x2730d1(0x1bc)];return _0x5cd4de;}function generateDots(_0x93942d){const _0x41c0b3=_0xb2e50c;shapeCtx['clearRect'](0x0,0x0,shapeCanvas[_0x41c0b3(0x1bc)],shapeCanvas['height']);const _0x10bec4=_0x93942d[_0x41c0b3(0x1a3)]('\x0a'),_0x45b080=getFittedFont(_0x93942d);shapeCtx[_0x41c0b3(0x1b7)]=_0x41c0b3(0x1aa)+_0x45b080+'px\x20Segoe\x20UI',shapeCtx[_0x41c0b3(0x19b)]=_0x41c0b3(0x1b5),shapeCtx['textAlign']=_0x41c0b3(0x1a1),shapeCtx['textBaseline']='middle';const _0x5068b0=1.2*_0x45b080,_0x34682a=_0x5068b0*_0x10bec4[_0x41c0b3(0x199)],_0x11b573=shapeCanvas['height']/0x2-_0x34682a/0x2+_0x5068b0/0x2;for(let _0x3bbac6=0x0;_0x3bbac6<_0x10bec4['length'];_0x3bbac6++)shapeCtx[_0x41c0b3(0x17e)](_0x10bec4[_0x3bbac6],shapeCanvas['width']/0x2,_0x11b573+_0x3bbac6*_0x5068b0);const _0x55a150=shapeCtx['getImageData'](0x0,0x0,shapeCanvas[_0x41c0b3(0x1bc)],shapeCanvas[_0x41c0b3(0x195)])[_0x41c0b3(0x1be)],_0x2f9f4c=[];for(let _0x5b9227=0x0;_0x5b9227<shapeCanvas[_0x41c0b3(0x195)];_0x5b9227+=gap)for(let _0x25eb70=0x0;_0x25eb70<shapeCanvas['width'];_0x25eb70+=gap){_0x55a150[0x4*(_0x5b9227*shapeCanvas['width']+_0x25eb70)+0x3]>0x80&&_0x2f9f4c[_0x41c0b3(0x1b6)]({'x':_0x25eb70,'y':_0x5b9227});}return _0x2f9f4c;}function interpolateParticles(_0x5d203d){const _0x18cdc0=_0xb2e50c,_0x2171ea=Math[_0x18cdc0(0x184)](particles[_0x18cdc0(0x199)],_0x5d203d[_0x18cdc0(0x199)]),_0x30689a=[];for(let _0xaef6e=0x0;_0xaef6e<_0x2171ea;_0xaef6e++){const _0x54bbcb=particles[_0xaef6e%particles['length']]||{'x':canvas[_0x18cdc0(0x1bc)]/0x2,'y':canvas[_0x18cdc0(0x195)]/0x2},_0x201e86=_0x5d203d[_0xaef6e%_0x5d203d['length']];_0x30689a[_0x18cdc0(0x1b6)]({'x':_0x54bbcb['x'],'y':_0x54bbcb['y'],'tx':_0x201e86['x'],'ty':_0x201e86['y'],'progress':0x0,'speed':0.06+0.05*Math[_0x18cdc0(0x1a5)]()});}particles=_0x30689a;}function updateParticles(){const _0x593243=_0xb2e50c;for(let _0x174cab of particles)_0x174cab[_0x593243(0x193)]<0x1&&(_0x174cab[_0x593243(0x193)]+=_0x174cab[_0x593243(0x1c1)],_0x174cab[_0x593243(0x193)]>0x1&&(_0x174cab[_0x593243(0x193)]=0x1)),_0x174cab['x']+=(_0x174cab['tx']-_0x174cab['x'])*_0x174cab['speed'],_0x174cab['y']+=(_0x174cab['ty']-_0x174cab['y'])*_0x174cab[_0x593243(0x1c1)];}function drawParticles(){const _0x3c9a07=_0xb2e50c;ctx[_0x3c9a07(0x192)](0x0,0x0,canvas[_0x3c9a07(0x1bc)],canvas[_0x3c9a07(0x195)]);for(let _0x6268a4 of particles)ctx['fillStyle']=_0x3c9a07(0x1c3),ctx[_0x3c9a07(0x1c4)](),ctx['arc'](_0x6268a4['x'],_0x6268a4['y'],isMobile?1.3:2.3,0x0,0x2*Math['PI']),ctx[_0x3c9a07(0x1a2)]();}const pinkboard=document['getElementById'](_0xb2e50c(0x18a)),pinkCtx=pinkboard[_0xb2e50c(0x18e)]('2d');pinkboard[_0xb2e50c(0x1bc)]=window[_0xb2e50c(0x1bb)],pinkboard[_0xb2e50c(0x195)]=window[_0xb2e50c(0x19d)],pinkboard[_0xb2e50c(0x196)][_0xb2e50c(0x18c)]=_0xb2e50c(0x1ac);let hearts=[];function createHeart(_0x1145ab,_0x517506){const _0x3b1ffc=_0xb2e50c;hearts[_0x3b1ffc(0x1b6)]({'x':_0x1145ab,'y':_0x517506,'size':0x6*Math[_0x3b1ffc(0x1a5)]()+0x4,'alpha':0x1,'dx':0x2*Math[_0x3b1ffc(0x1a5)]()-0x1,'dy':-0x2*Math[_0x3b1ffc(0x1a5)]()-0x1});}function drawHearts(){const _0x3f6427=_0xb2e50c;pinkCtx[_0x3f6427(0x192)](0x0,0x0,pinkboard['width'],pinkboard[_0x3f6427(0x195)]),hearts[_0x3f6427(0x198)]((_0x282918,_0x20b532)=>{const _0x4e8e24=_0x3f6427;pinkCtx['globalAlpha']=_0x282918[_0x4e8e24(0x1a9)],pinkCtx[_0x4e8e24(0x19b)]=_0x4e8e24(0x18d),pinkCtx[_0x4e8e24(0x1c4)](),pinkCtx[_0x4e8e24(0x17a)](_0x282918['x'],_0x282918['y']),pinkCtx[_0x4e8e24(0x17c)](_0x282918['x']+_0x282918[_0x4e8e24(0x1b9)],_0x282918['y']-_0x282918[_0x4e8e24(0x1b9)],_0x282918['x']+0x2*_0x282918[_0x4e8e24(0x1b9)],_0x282918['y']+_0x282918[_0x4e8e24(0x1b9)],_0x282918['x'],_0x282918['y']+0x2*_0x282918[_0x4e8e24(0x1b9)]),pinkCtx['bezierCurveTo'](_0x282918['x']-0x2*_0x282918['size'],_0x282918['y']+_0x282918['size'],_0x282918['x']-_0x282918[_0x4e8e24(0x1b9)],_0x282918['y']-_0x282918[_0x4e8e24(0x1b9)],_0x282918['x'],_0x282918['y']),pinkCtx[_0x4e8e24(0x1a2)](),_0x282918['x']+=_0x282918['dx'],_0x282918['y']+=_0x282918['dy'],_0x282918['alpha']-=0.01,_0x282918['alpha']<=0x0&&hearts[_0x4e8e24(0x181)](_0x20b532,0x1);});}function heartLoop(){drawHearts(),requestAnimationFrame(heartLoop);}function startParticleHeart(){const _0x587697=_0xb2e50c;pinkboard[_0x587697(0x196)][_0x587697(0x18c)]='block',setInterval(()=>{const _0x4c95e5=_0x587697;createHeart(Math[_0x4c95e5(0x1a5)]()*pinkboard[_0x4c95e5(0x1bc)],Math['random']()*pinkboard[_0x4c95e5(0x195)]);},0xc8),heartLoop();}function morphToNextText(){const _0x44458=_0xb2e50c;if(currentIndex++,currentIndex>=texts[_0x44458(0x199)])return particles=[],ctx['clearRect'](0x0,0x0,canvas[_0x44458(0x1bc)],canvas[_0x44458(0x195)]),canvas[_0x44458(0x196)][_0x44458(0x18c)]=_0x44458(0x1ac),sticker['src']&&sticker[_0x44458(0x1bd)]!==window[_0x44458(0x189)][_0x44458(0x182)]&&''!==sticker[_0x44458(0x1bd)]['trim']()?sticker[_0x44458(0x196)][_0x44458(0x18c)]=_0x44458(0x17b):startParticleHeart(),void(stopAnimation=!0x0);interpolateParticles(generateDots(texts[currentIndex])),lastMorphTime=Date[_0x44458(0x1b2)]();}function animate(){const _0x3b47b8=_0xb2e50c;if(stopAnimation)return;updateParticles(),drawParticles(),(particles['every'](_0x4b143b=>Math['abs'](_0x4b143b['x']-_0x4b143b['tx'])<0.5&&Math['abs'](_0x4b143b['y']-_0x4b143b['ty'])<0.5)&&Date[_0x3b47b8(0x1b2)]()-lastMorphTime>morphDelay&&morphToNextText(),requestAnimationFrame(animate));}const firstDots=generateDots(texts[0x0]);particles=firstDots['map'](_0x41ea1b=>({'x':canvas['width']/0x2,'y':canvas['height']/0x2,'tx':_0x41ea1b['x'],'ty':_0x41ea1b['y'],'progress':0x0,'speed':0.05+0.05*Math[_0xb2e50c(0x1a5)]()})),canvas['style']['display']=_0xb2e50c(0x1ac),setTimeout(()=>{const _0x2de226=_0xb2e50c;canvas['style'][_0x2de226(0x18c)]=_0x2de226(0x17b),lastMorphTime=Date[_0x2de226(0x1b2)](),animate();},0x3e8),window[_0xb2e50c(0x1b3)]('resize',()=>{const _0x753fb4=_0xb2e50c;canvas[_0x753fb4(0x1bc)]=window[_0x753fb4(0x1bb)],canvas[_0x753fb4(0x195)]=window[_0x753fb4(0x19d)],shapeCanvas[_0x753fb4(0x1bc)]=canvas[_0x753fb4(0x1bc)],shapeCanvas[_0x753fb4(0x195)]=canvas['height'],pinkboard['width']=window[_0x753fb4(0x1bb)],pinkboard[_0x753fb4(0x195)]=window['innerHeight'];});